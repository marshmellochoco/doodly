{"version":3,"sources":["webpack://doodly/./src/templates/doodles-template.js","webpack://doodly/./src/images/arrow-left.svg"],"names":["DoodleWrapper","DoodlePreview","DoodlePreviewImage","DoodleDetail","IconLink","props","Link","Icon","IconText","IconButton","data","id","dispatch","useContext","CartDispatchContext","src","stripePrice","product","images","alt","to","name","description","unit_amount","onClick","priceid","image","quantity","price","type","item","addToCart","CartIcon"],"mappings":"4NAUA,IAAMA,GAAa,0PAcbC,GAAa,8HAQbC,GAAkB,wEAIlBC,GAAY,+NAaZC,GAAW,QAAO,SAACC,GAAD,OAAW,QAAC,EAAAC,KAASD,KAA5B,qBAAH,iOAeRE,GAAI,6EAIJC,GAAQ,6EAIRC,GAAU,2RAqEhB,EApDuB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,KAAMC,EAAS,EAATA,GACtBC,GAAWC,gBAAWC,MAW5B,OACI,QAAC,IAAD,MACI,QAACd,EAAD,CAAeW,GAAIA,IACf,QAACV,EAAD,MACI,QAACC,EAAD,CACIa,IAAKL,EAAKM,YAAYC,QAAQC,OAAO,GACrCC,IAAI,OAGZ,QAAChB,EAAD,MACI,oBACI,QAACC,EAAD,CAAUgB,GAAG,MACT,QAACb,EAAD,CAAMQ,ICjHlC,wgBDkH4B,QAACP,EAAD,eAEJ,kBAAKE,EAAKM,YAAYC,QAAQI,OAC9B,iBAAIX,EAAKM,YAAYC,QAAQK,cAC7B,uBAAOZ,EAAKM,YAAYO,YAAc,OAE1C,QAACd,EAAD,CACIe,QAAS,kBA7BX,SAACC,EAASd,EAAIe,EAAOL,EAAMM,EAAUC,GAEnDhB,EAAS,CACLiB,KAAM,WACNC,KAAM,CAAEL,UAASd,KAAIe,QAAOL,OAAMM,WAAUC,WA0B5BG,CACIrB,EAAKM,YAAYL,GACjBD,EAAKM,YAAYC,QAAQN,GACzBD,EAAKM,YAAYC,QAAQC,OAAO,GAChCR,EAAKM,YAAYC,QAAQI,KACzB,EACAX,EAAKM,YAAYO,gBAIzB,QAACf,EAAD,qBACA,QAACD,EAAD,CAAMQ,IAAKiB","file":"component---src-templates-doodles-template-js-a68346b5d8b7b9947a05.js","sourcesContent":["import { graphql, Link } from \"gatsby\";\r\nimport React, { useContext } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nimport BackIcon from \"../images/arrow-left.svg\";\r\nimport CartIcon from \"../images/cart.svg\";\r\nimport Layout from \"../components/layout\";\r\nimport { CartDispatchContext } from \"../components/cartProvider\";\r\n\r\n// styles\r\nconst DoodleWrapper = styled.div`\r\n    max-width: 72rem;\r\n    width: 91.66667%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: stretch;\r\n    justify-content: center;\r\n    @media (max-width: 768px) {\r\n        align-items: center;\r\n        flex-direction: column;\r\n    }\r\n`;\r\n\r\nconst DoodlePreview = styled.div`\r\n    width: 50%;\r\n    max-width: 28rem;\r\n    @media (max-width: 768px) {\r\n        width: 100%;\r\n    }\r\n`;\r\n\r\nconst DoodlePreviewImage = styled.img`\r\n    width: 100%;\r\n`;\r\n\r\nconst DoodleDetail = styled.div`\r\n    margin-left: 2rem;\r\n    width: 50%;\r\n    max-width: 20rem;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-direction: column;\r\n    @media (max-width: 768px) {\r\n        width: 100%;\r\n        margin: 3rem auto;\r\n    }\r\n`;\r\n\r\nconst IconLink = styled((props) => <Link {...props} />)`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: 1px solid gainsboro;\r\n    width: 100%;\r\n    text-align: center;\r\n    color: black;\r\n    text-decoration: none;\r\n    &:hover {\r\n        background-color: #d2d3dd;\r\n    }\r\n`;\r\n\r\nconst Icon = styled.img`\r\n    margin: 0 0.5rem;\r\n`;\r\n\r\nconst IconText = styled.p`\r\n    margin: 1rem 0.5rem;\r\n`;\r\n\r\nconst IconButton = styled.button`\r\n    background-color: mintcream;\r\n    color: black;\r\n    border: 1px solid gainsboro;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    &:hover {\r\n        background-color: #d2d3dd;\r\n    }\r\n`;\r\n\r\n// markup\r\nconst DoodleTemplate = ({ data, id }) => {\r\n    const dispatch = useContext(CartDispatchContext);\r\n\r\n    const addToCart = (priceid, id, image, name, quantity, price) => {\r\n        // TODO: Pop up to show item is added to cart\r\n        dispatch({\r\n            type: \"ADD_ITEM\",\r\n            item: { priceid, id, image, name, quantity, price },\r\n        });\r\n        return;\r\n    };\r\n\r\n    return (\r\n        <Layout>\r\n            <DoodleWrapper id={id}>\r\n                <DoodlePreview>\r\n                    <DoodlePreviewImage\r\n                        src={data.stripePrice.product.images[0]}\r\n                        alt=\"\"\r\n                    />\r\n                </DoodlePreview>\r\n                <DoodleDetail>\r\n                    <div>\r\n                        <IconLink to=\"/\">\r\n                            <Icon src={BackIcon} />\r\n                            <IconText>Back</IconText>\r\n                        </IconLink>\r\n                        <h2>{data.stripePrice.product.name}</h2>\r\n                        <p>{data.stripePrice.product.description}</p>\r\n                        <p>RM {data.stripePrice.unit_amount / 100}</p>\r\n                    </div>\r\n                    <IconButton\r\n                        onClick={() =>\r\n                            addToCart(\r\n                                data.stripePrice.id,\r\n                                data.stripePrice.product.id,\r\n                                data.stripePrice.product.images[0],\r\n                                data.stripePrice.product.name,\r\n                                1,\r\n                                data.stripePrice.unit_amount\r\n                            )\r\n                        }\r\n                    >\r\n                        <IconText>Add To Cart</IconText>\r\n                        <Icon src={CartIcon} />\r\n                    </IconButton>\r\n                </DoodleDetail>\r\n            </DoodleWrapper>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default DoodleTemplate;\r\n\r\n// query\r\nexport const query = graphql`\r\n    query ($id: String) {\r\n        stripePrice(product: { id: { eq: $id } }) {\r\n            id\r\n            unit_amount\r\n            product {\r\n                id\r\n                name\r\n                description\r\n                images\r\n                active\r\n            }\r\n        }\r\n    }\r\n`;\r\n","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTIwLDExVjEzSDhMMTMuNSwxOC41TDEyLjA4LDE5LjkyTDQuMTYsMTJMMTIuMDgsNC4wOEwxMy41LDUuNUw4LDExSDIwWiIgLz48L3N2Zz4=\""],"sourceRoot":""}