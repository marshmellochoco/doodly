{"version":3,"file":"component---src-templates-doodles-template-js-07ce89330b9f095d6442.js","mappings":"4NAUA,IAAMA,GAAa,4PAcbC,GAAa,gWAiBbC,GAAkB,wEAIlBC,GAAY,8NAaZC,GAAiB,4EAIjBC,GAAW,QAAO,SAACC,GAAD,OAAW,QAAC,EAAAC,KAASD,KAA5B,qBAAH,sOAeRE,GAAI,6EAIJC,GAAQ,6EAIRC,GAAU,gRAuEhB,EAtDuB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,KAAMC,EAAS,EAATA,GACtBC,GAAWC,EAAAA,EAAAA,YAAWC,EAAAA,IAW5B,OACI,QAAC,IAAD,MACI,QAACf,EAAD,CAAeY,GAAIA,IACf,QAACX,EAAD,MACI,QAACC,EAAD,CACIc,IAAKL,EAAKM,YAAYC,QAAQC,OAAO,GACrCC,IAAI,OAGZ,QAACjB,EAAD,MACI,QAACC,EAAD,MACI,QAACC,EAAD,CAAUgB,GAAG,MACT,QAACb,EAAD,CAAMQ,IC9HlC,wgBD+H4B,QAACP,EAAD,eAEJ,kBAAKE,EAAKM,YAAYC,QAAQI,OAC9B,iBAAIX,EAAKM,YAAYC,QAAQK,cAC7B,wBACSZ,EAAKM,YAAYO,YAAc,KAAKC,QAAQ,MAGzD,QAACf,EAAD,CACIgB,QAAS,kBA/BX,SAACC,EAASf,EAAIgB,EAAON,EAAMO,EAAUC,GAEnDjB,EAAS,CACLkB,KAAM,WACNC,KAAM,CAAEL,QAAAA,EAASf,GAAAA,EAAIgB,MAAAA,EAAON,KAAAA,EAAMO,SAAAA,EAAUC,MAAAA,KA4B5BG,CACItB,EAAKM,YAAYL,GACjBD,EAAKM,YAAYC,QAAQN,GACzBD,EAAKM,YAAYC,QAAQC,OAAO,GAChCR,EAAKM,YAAYC,QAAQI,KACzB,EACAX,EAAKM,YAAYO,gBAIzB,QAACf,EAAD,qBACA,QAACD,EAAD,CAAMQ,IAAKkB,EAAAA","sources":["webpack://doodly/./src/templates/doodles-template.js","webpack://doodly/./src/images/arrow-left.svg"],"sourcesContent":["import { graphql, Link } from 'gatsby';\r\nimport React, { useContext } from 'react';\r\nimport styled from '@emotion/styled';\r\n\r\nimport BackIcon from '../images/arrow-left.svg';\r\nimport CartIcon from '../images/cart.svg';\r\nimport Layout from '../components/layout';\r\nimport { CartDispatchContext } from '../components/cartProvider';\r\n\r\n// styles\r\nconst DoodleWrapper = styled.div`\r\n    max-width: 1024px;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: stretch;\r\n    justify-content: center;\r\n    @media (max-width: 768px) {\r\n        max-width: 375px;\r\n        align-items: center;\r\n        flex-direction: column;\r\n    }\r\n`;\r\n\r\nconst DoodlePreview = styled.div`\r\n    width: 50%;\r\n    max-width: 28rem;\r\n    border: 2px solid;\r\n    border-image-slice: 1;\r\n    border-width: 2px;\r\n    border-image-source: radial-gradient(\r\n        circle,\r\n        rgba(255, 255, 255, 1) 0%,\r\n        rgba(252, 227, 255, 1) 70%,\r\n        rgba(162, 239, 255, 1) 100%\r\n    );\r\n    @media (max-width: 768px) {\r\n        width: 100%;\r\n    }\r\n`;\r\n\r\nconst DoodlePreviewImage = styled.img`\r\n    width: 100%;\r\n`;\r\n\r\nconst DoodleDetail = styled.div`\r\n    margin-left: 2rem;\r\n    width: 50%;\r\n    max-width: 20rem;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    flex-direction: column;\r\n    @media (max-width: 768px) {\r\n        width: 100%;\r\n        margin: 3rem auto;\r\n    }\r\n`;\r\n\r\nconst DoodleDetailUpper = styled.div`\r\n    min-height: 250px;\r\n`;\r\n\r\nconst IconLink = styled((props) => <Link {...props} />)`\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: 1px solid grey;\r\n    width: 100%;\r\n    text-align: center;\r\n    color: black;\r\n    text-decoration: none;\r\n    &:hover {\r\n        box-shadow: 2px 6px 6px 4px #f5f3ff;\r\n    }\r\n`;\r\n\r\nconst Icon = styled.img`\r\n    margin: 0 0.5rem;\r\n`;\r\n\r\nconst IconText = styled.p`\r\n    margin: 1rem 0.5rem;\r\n`;\r\n\r\nconst IconButton = styled.button`\r\n    border: 0;\r\n    background-color: #a9ffd4;\r\n    color: black;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    &:hover {\r\n        box-shadow: 2px 6px 6px 4px #f5f3ff;\r\n    }\r\n`;\r\n\r\n// markup\r\nconst DoodleTemplate = ({ data, id }) => {\r\n    const dispatch = useContext(CartDispatchContext);\r\n\r\n    const addToCart = (priceid, id, image, name, quantity, price) => {\r\n        // TODO: Pop up to show item is added to cart\r\n        dispatch({\r\n            type: 'ADD_ITEM',\r\n            item: { priceid, id, image, name, quantity, price },\r\n        });\r\n        return;\r\n    };\r\n\r\n    return (\r\n        <Layout>\r\n            <DoodleWrapper id={id}>\r\n                <DoodlePreview>\r\n                    <DoodlePreviewImage\r\n                        src={data.stripePrice.product.images[0]}\r\n                        alt=''\r\n                    />\r\n                </DoodlePreview>\r\n                <DoodleDetail>\r\n                    <DoodleDetailUpper>\r\n                        <IconLink to='/'>\r\n                            <Icon src={BackIcon} />\r\n                            <IconText>Back</IconText>\r\n                        </IconLink>\r\n                        <h2>{data.stripePrice.product.name}</h2>\r\n                        <p>{data.stripePrice.product.description}</p>\r\n                        <p>\r\n                            RM {(data.stripePrice.unit_amount / 100).toFixed(2)}\r\n                        </p>\r\n                    </DoodleDetailUpper>\r\n                    <IconButton\r\n                        onClick={() =>\r\n                            addToCart(\r\n                                data.stripePrice.id,\r\n                                data.stripePrice.product.id,\r\n                                data.stripePrice.product.images[0],\r\n                                data.stripePrice.product.name,\r\n                                1,\r\n                                data.stripePrice.unit_amount\r\n                            )\r\n                        }\r\n                    >\r\n                        <IconText>Add To Cart</IconText>\r\n                        <Icon src={CartIcon} />\r\n                    </IconButton>\r\n                </DoodleDetail>\r\n            </DoodleWrapper>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default DoodleTemplate;\r\n\r\n// query\r\nexport const query = graphql`\r\n    query ($id: String) {\r\n        stripePrice(product: { id: { eq: $id } }) {\r\n            id\r\n            unit_amount\r\n            product {\r\n                id\r\n                name\r\n                description\r\n                images\r\n                active\r\n            }\r\n        }\r\n    }\r\n`;\r\n","export default \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTIwLDExVjEzSDhMMTMuNSwxOC41TDEyLjA4LDE5LjkyTDQuMTYsMTJMMTIuMDgsNC4wOEwxMy41LDUuNUw4LDExSDIwWiIgLz48L3N2Zz4=\""],"names":["DoodleWrapper","DoodlePreview","DoodlePreviewImage","DoodleDetail","DoodleDetailUpper","IconLink","props","Link","Icon","IconText","IconButton","data","id","dispatch","useContext","CartDispatchContext","src","stripePrice","product","images","alt","to","name","description","unit_amount","toFixed","onClick","priceid","image","quantity","price","type","item","addToCart","CartIcon"],"sourceRoot":""}